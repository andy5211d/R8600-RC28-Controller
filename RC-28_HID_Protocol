RC‑28 HID Protocol Specification
Version 1.0 — January 2026  
Author: Andy

Table of Contents
1.  Overview
2.  USB Identification
3.  HID Output Reports
4.  Report ID 0x01 — LED Control
5.  LED Bitmask
6.  HID Input Reports
7.  Encoder Movement
8.  Button Events
9.  Report ID Summary
10.  Safety Notes
11.  Implementation Notes
Appendix A — LED Bitmask Diagram
Appendix B — Input Report Flowchart

1.  Overview
The Icom RC‑28 is a USB HID device providing:
A rotary encoder (CW/CCW)
Three momentary buttons (TRANSMIT, F-1, F-2)
Four LEDs (LINK, F-1, F-2, TRANSMIT)

This document describes the reverse‑engineered HID protocol, including all known input and output report formats.

USB Identification
Field	Value
Vendor ID	0x0C26
Product ID	0x001E
Device Class	HID (Vendor‑specific)
HID Output Reports (Host → RC‑28)
Report ID 0x01 — LED Control
The RC‑28 accepts a 9‑byte output report:

Code
Byte 0 : Report ID (0x01)
Byte 1 : LED bitmask
Bytes 2–8 : Reserved (0x00)
LED Bitmask
Bit	Hex	LED
0	0x01	TRANSMIT
1	0x02	F-2
2	0x04	F-1
3	0x08	TRANSMIT
4	0x10	LINK
5	0x20	All‑LED ON override
6	0x40	Unused
7	0x80	Unused

Behaviour Notes
Bits 0–4 form a direct LED mask.
Bit 5 (0x20) forces all LEDs ON, regardless of other bits.
Bits 6–7 have no observed effect.
Re‑sending the same mask does not toggle LEDs; the mask is absolute.

Examples
Mask	LEDs Lit
0x00	All off
0x01	TRANSMIT
0x02	F-2
0x04	F-1
0x08	TRANSMIT
0x10	LINK
0x1F	LINK + TRANSMIT + F-1 + F-2
0x20	All LEDs ON (override)
HID Input Reports (RC‑28 → Host)
Report ID 0x00 — Encoder Movement

Code
Byte 0 : Report ID (0x00)
Byte 3 : 0x01 = CW
Byte 3 : 0x02 = CCW
No acceleration or multi‑step values observed.

Report ID 0x01 — Button Events (TX, F1, F2)

Code
Byte 0 : Report ID (0x01)
Byte 5 : Button bitmask (active‑low)
Button Bitmask (active‑low)
Bit	Hex	Button
0	0x01	TX
1	0x02	F1
2	0x04	F2
Behaviour
Press = bit cleared
Release = bit set
No auto‑repeat

Long‑press handled in software (not hardware)

Report ID Summary
Report ID	Direction	Purpose
0x00	Input	Encoder delta
0x01	Input	Buttons (TX, F1, F2)
0x01	Output	LED control
0x02–0x06	Output	No effect
0x07	Output	Unknown (likly firmware update trigger)
0x08–0x0F	Output	No observed effect

Safety Notes
Avoid Report ID 0x07 (possible DFU/firmware mode).
Always send 9‑byte output reports.
Reserved bytes must be zero.
LED mask is absolute, not toggle‑based.

Implementation Notes
hid4java requires the report ID in byte 0.
The RC‑28 accepts writes via:
write(byte[], int, byte)
write(byte[], int)
write(byte[])
Reflection recommended for cross‑platform compatibility.
Input reports must be polled (no interrupt callbacks).

Appendix A — LED Bitmask Diagram
Code
+------------------------------------------------------+
|                RC‑28 LED Bitmask (Byte 1)            |
+---------+---------+---------+---------+--------------+
| Bit 7   | Bit 6   | Bit 5   | Bit 4   | Bit 3        |
| 0x80    | 0x40    | 0x20    | 0x10    | 0x08         |
| unused  | unused  | ALL ON  | Link    | Tx           |
+---------+---------+---------+---------+--------------+
| Bit 2   | Bit 1   | Bit 0   |
| 0x04    | 0x02    | 0x01    |
| F1      | F2      | Rx      |
+-----------------------------+

Examples:
  0x1F = Link + Tx + F1 + F2
  0x20 = ALL LEDs ON (override)
  0x00 = All off

Appendix B — Input Report Flowchart
Code
                   +----------------------+
                   |  Receive HID Report  |
                   +----------+-----------+
                              |
                              v
                 +---------------------------+
                 |  Is Report ID == 0x00 ?   |
                 +-----------+---------------+
                             | Yes
                             v
                 +---------------------------+
                 |   Read buffer[3]          |
                 |   0x01 = CW               |
                 |   0x02 = CCW              |
                 +-----------+---------------+
                             |
                             v
                 +---------------------------+
                 |   Emit knob event         |
                 +---------------------------+
                             |
                             v
                           (End)

                             |
                             | No
                             v
                 +---------------------------+
                 |  Is Report ID == 0x01 ?   |
                 +-----------+---------------+
                             | Yes
                             v
                 +---------------------------+
                 |   Read buffer[5] bitmask  |
                 |   bit0 = TX               |
                 |   bit1 = F1               |
                 |   bit2 = F2               |
                 +-----------+---------------+
                             |
                             v
                 +---------------------------+
                 |   Active‑low decode       |
                 |   Press = bit cleared     |
                 |   Release = bit set       |
                 +-----------+---------------+
                             |
                             v
                 +---------------------------+
                 |   Emit button events      |
                 +---------------------------+
                             |
                             v
                           (End)
